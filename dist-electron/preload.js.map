{"version":3,"file":"preload.js","sources":["../electron/preload.ts"],"sourcesContent":["import { ipcRenderer, contextBridge } from 'electron'\n\n// Expose protected methods that allow the renderer process to use\n// the ipcRenderer without exposing the entire object\ncontextBridge.exposeInMainWorld('electronAPI', {\n  // Settings\n  settings: {\n    get: () => ipcRenderer.invoke('settings:get'),\n    set: (key: string, value: any) => ipcRenderer.invoke('settings:set', key, value),\n    selectDownloadFolder: () => ipcRenderer.invoke('settings:selectDownloadFolder'),\n    selectMemoryBankFolder: () => ipcRenderer.invoke('settings:selectMemoryBankFolder')\n  },\n\n  // Browser Automation\n  browser: {\n    navigate: (url: string) => ipcRenderer.invoke('browser:navigate', url),\n    click: (selector: string) => ipcRenderer.invoke('browser:click', selector),\n    type: (selector: string, text: string) => ipcRenderer.invoke('browser:type', selector, text),\n    getText: (selector?: string) => ipcRenderer.invoke('browser:getText', selector),\n    getHtml: () => ipcRenderer.invoke('browser:getHtml'),\n    screenshot: (options?: { path?: string; fullPage?: boolean }) => ipcRenderer.invoke('browser:screenshot', options),\n    scroll: (direction: 'up' | 'down' | 'top' | 'bottom') => ipcRenderer.invoke('browser:scroll', direction),\n    findElements: (selector: string) => ipcRenderer.invoke('browser:findElements', selector),\n    evaluate: (script: string) => ipcRenderer.invoke('browser:evaluate', script),\n    close: () => ipcRenderer.invoke('browser:close'),\n    reopen: () => ipcRenderer.invoke('browser:reopen')\n  },\n\n  // Memory Bank\n  memory: {\n    add: (type: 'conversation' | 'search', content: string, metadata?: Record<string, any>) => \n      ipcRenderer.invoke('memory:add', type, content, metadata),\n    search: (query: string, limit?: number) => ipcRenderer.invoke('memory:search', query, limit),\n    getRecent: (limit?: number) => ipcRenderer.invoke('memory:getRecent', limit),\n    delete: (id: string) => ipcRenderer.invoke('memory:delete', id),\n    clear: () => ipcRenderer.invoke('memory:clear'),\n    getStats: () => ipcRenderer.invoke('memory:getStats')\n  },\n\n  // Shell\n  shell: {\n    openExternal: (url: string) => ipcRenderer.invoke('shell:openExternal', url)\n  },\n\n  // Download\n  download: {\n    getFolder: () => ipcRenderer.invoke('download:getFolder')\n  }\n})\n\n// Type definitions for the exposed API\ndeclare global {\n  interface Window {\n    electronAPI: {\n      settings: {\n        get: () => Promise<any>\n        set: (key: string, value: any) => Promise<boolean>\n        selectDownloadFolder: () => Promise<string | null>\n        selectMemoryBankFolder: () => Promise<string | null>\n      }\n      browser: {\n        navigate: (url: string) => Promise<void>\n        click: (selector: string) => Promise<void>\n        type: (selector: string, text: string) => Promise<void>\n        getText: (selector?: string) => Promise<string>\n        getHtml: () => Promise<string>\n        screenshot: (options?: { path?: string; fullPage?: boolean }) => Promise<string>\n        scroll: (direction: 'up' | 'down' | 'top' | 'bottom') => Promise<void>\n        findElements: (selector: string) => Promise<Array<{ tag: string; text: string; attributes: Record<string, string> }>>\n        evaluate: (script: string) => Promise<any>\n        close: () => Promise<boolean>\n        reopen: () => Promise<boolean>\n      }\n      memory: {\n        add: (type: 'conversation' | 'search', content: string, metadata?: Record<string, any>) => Promise<string | null>\n        search: (query: string, limit?: number) => Promise<Array<{ id: string; content: string; score: number; metadata: any }>>\n        getRecent: (limit?: number) => Promise<Array<{ id: string; content: string; timestamp: number; type: string }>>\n        delete: (id: string) => Promise<boolean>\n        clear: () => Promise<boolean>\n        getStats: () => Promise<{ total: number; conversations: number; searches: number }>\n      }\n      shell: {\n        openExternal: (url: string) => Promise<void>\n      }\n      download: {\n        getFolder: () => Promise<string>\n      }\n    }\n  }\n}"],"names":[],"mappings":";AAIA,cAAc,kBAAkB,eAAe;AAAA;AAAA,EAE7C,UAAU;AAAA,IACR,KAAK,MAAM,YAAY,OAAO,cAAc;AAAA,IAC5C,KAAK,CAAC,KAAa,UAAe,YAAY,OAAO,gBAAgB,KAAK,KAAK;AAAA,IAC/E,sBAAsB,MAAM,YAAY,OAAO,+BAA+B;AAAA,IAC9E,wBAAwB,MAAM,YAAY,OAAO,iCAAiC;AAAA,EAAA;AAAA;AAAA,EAIpF,SAAS;AAAA,IACP,UAAU,CAAC,QAAgB,YAAY,OAAO,oBAAoB,GAAG;AAAA,IACrE,OAAO,CAAC,aAAqB,YAAY,OAAO,iBAAiB,QAAQ;AAAA,IACzE,MAAM,CAAC,UAAkB,SAAiB,YAAY,OAAO,gBAAgB,UAAU,IAAI;AAAA,IAC3F,SAAS,CAAC,aAAsB,YAAY,OAAO,mBAAmB,QAAQ;AAAA,IAC9E,SAAS,MAAM,YAAY,OAAO,iBAAiB;AAAA,IACnD,YAAY,CAAC,YAAoD,YAAY,OAAO,sBAAsB,OAAO;AAAA,IACjH,QAAQ,CAAC,cAAgD,YAAY,OAAO,kBAAkB,SAAS;AAAA,IACvG,cAAc,CAAC,aAAqB,YAAY,OAAO,wBAAwB,QAAQ;AAAA,IACvF,UAAU,CAAC,WAAmB,YAAY,OAAO,oBAAoB,MAAM;AAAA,IAC3E,OAAO,MAAM,YAAY,OAAO,eAAe;AAAA,IAC/C,QAAQ,MAAM,YAAY,OAAO,gBAAgB;AAAA,EAAA;AAAA;AAAA,EAInD,QAAQ;AAAA,IACN,KAAK,CAAC,MAAiC,SAAiB,aACtD,YAAY,OAAO,cAAc,MAAM,SAAS,QAAQ;AAAA,IAC1D,QAAQ,CAAC,OAAe,UAAmB,YAAY,OAAO,iBAAiB,OAAO,KAAK;AAAA,IAC3F,WAAW,CAAC,UAAmB,YAAY,OAAO,oBAAoB,KAAK;AAAA,IAC3E,QAAQ,CAAC,OAAe,YAAY,OAAO,iBAAiB,EAAE;AAAA,IAC9D,OAAO,MAAM,YAAY,OAAO,cAAc;AAAA,IAC9C,UAAU,MAAM,YAAY,OAAO,iBAAiB;AAAA,EAAA;AAAA;AAAA,EAItD,OAAO;AAAA,IACL,cAAc,CAAC,QAAgB,YAAY,OAAO,sBAAsB,GAAG;AAAA,EAAA;AAAA;AAAA,EAI7E,UAAU;AAAA,IACR,WAAW,MAAM,YAAY,OAAO,oBAAoB;AAAA,EAAA;AAE5D,CAAC;"}